{"ast":null,"code":"var _jsxFileName = \"/Users/barbaramoahamed/Downloads/Globe-main/src/Marks.js\",\n    _s3 = $RefreshSig$();\n\nimport { geoOrthographic, geoPath, geoGraticule, timer } from \"d3\";\nimport React, { useState, useCallback, useEffect, useRef } from \"react\";\nimport $, { data } from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Marks = _ref => {\n  _s3();\n\n  var _s = $RefreshSig$(),\n      _s2 = $RefreshSig$();\n\n  let {\n    data: {\n      land,\n      geometry\n    }\n  } = _ref;\n  const width = 500;\n  const height = 500; // const intialMousePosition = { x: width / 2, y: height / 2 };\n\n  const rotate = [0, -23.5];\n  const velocity = [0.015, -0];\n  const [dt, setDT] = useState(Date.now());\n  const [rotation, setRotation] = useState(0);\n  const projection = geoOrthographic().scale(300);\n  const path = geoPath(projection);\n  const graticule = geoGraticule();\n  const savedCallback = useRef();\n\n  function useInterval(callback, delay) {\n    _s();\n\n    useEffect(() => {\n      savedCallback.current = callback;\n    }, [callback]); // Set up the interval.\n\n    useEffect(() => {\n      let id = setInterval(() => {\n        savedCallback.current();\n      }, delay);\n      return () => clearInterval(id);\n    }, [delay]);\n  }\n\n  _s(useInterval, \"3ubReDTFssvu4DHeldAg55cW/CI=\");\n\n  ;\n  useInterval(() => {\n    setRotation(rotation + 0.2);\n    console.log(\"interval\", rotation);\n  }, 200);\n\n  const useAnimationFrame = callback => {\n    _s2();\n\n    // Use useRef for mutable variables that we want to persist\n    // without triggering a re-render on their change\n    const requestRef = useRef();\n    const previousTimeRef = useRef();\n\n    const animate = time => {\n      if (previousTimeRef.current != undefined) {\n        const deltaTime = time - previousTimeRef.current;\n        callback(deltaTime);\n      }\n\n      previousTimeRef.current = time;\n      requestRef.current = requestAnimationFrame(animate);\n    };\n\n    useEffect(() => {\n      requestRef.current = requestAnimationFrame(animate);\n      return () => cancelAnimationFrame(requestRef.current);\n    }, []); // Make sure the effect runs only once\n  };\n\n  _s2(useAnimationFrame, \"z8M7fn6QAiYOb97lWpO8m/pmXa0=\");\n\n  const [count, setCount] = React.useState(0);\n  useAnimationFrame(deltaTime => {\n    // Pass on a function to the setter of the state\n    // to make sure we always have the latest state\n    setCount(prevCount => (prevCount + deltaTime * 0.01) % 100);\n    console.log(count);\n  });\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"marks\" //  onMouseDown={handleMouseDown}\n    //  onMouseMove={handleMouseMove}\n    // onMouseUp={handleMouseUp}\n    ,\n    children: [projection.rotate([velocity[0] - rotation * 20, rotate[1] + velocity[1] * dt]), /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"sphere\",\n      d: path({\n        type: \"Sphere\"\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"graticule\",\n      d: path(graticule()),\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), land.features.map((feature, i) => /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"feature\",\n      d: path(feature)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)), geometry.features.map((feature, i) => {\n      var _path$centroid$;\n\n      return /*#__PURE__*/_jsxDEV(\"g\", {\n        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n          className: \"interiors\",\n          d: path(feature),\n          id: feature.properties.name\n        }, feature.properties.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), (_path$centroid$ = path.centroid(feature)[0]) !== null && _path$centroid$ !== void 0 ? _path$centroid$ : /*#__PURE__*/_jsxDEV(\"circle\", {\n          className: \"interiors\",\n          cx: path.centroid(feature)[0],\n          cy: path.centroid(feature)[1],\n          r: \"2\",\n          fill: \"red\",\n          fontSize: \"36\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(Marks, \"E2oiPCobmHiCMe10lX/mcjShir4=\", true);\n\n_c = Marks;\n\nvar _c;\n\n$RefreshReg$(_c, \"Marks\");","map":{"version":3,"names":["geoOrthographic","geoPath","geoGraticule","timer","React","useState","useCallback","useEffect","useRef","$","data","Marks","land","geometry","width","height","rotate","velocity","dt","setDT","Date","now","rotation","setRotation","projection","scale","path","graticule","savedCallback","useInterval","callback","delay","current","id","setInterval","clearInterval","console","log","useAnimationFrame","requestRef","previousTimeRef","animate","time","undefined","deltaTime","requestAnimationFrame","cancelAnimationFrame","count","setCount","prevCount","type","display","features","map","feature","i","properties","name","centroid"],"sources":["/Users/barbaramoahamed/Downloads/Globe-main/src/Marks.js"],"sourcesContent":["import { geoOrthographic, geoPath, geoGraticule, timer} from \"d3\";\nimport React, { useState, useCallback, useEffect, useRef } from \"react\";\nimport $, { data } from \"jquery\";\n\nexport const Marks = ({ data: { land, geometry } }) => {\n  const width = 500;\n  const height = 500;\n  // const intialMousePosition = { x: width / 2, y: height / 2 };\n  const rotate = [0, -23.5];\n  const velocity = [0.015, -0];\n  const [dt, setDT] = useState(Date.now());\n\n \n  const [rotation, setRotation] = useState(0);\n\n  const projection = geoOrthographic()\n    .scale(300);\n  const path = geoPath(projection);\n  const graticule = geoGraticule();\n \n  const savedCallback = useRef();\n\n\n\n  function useInterval(callback, delay) {\n\n    useEffect(() => {\n      savedCallback.current = callback;\n    }, [callback]);\n    \n    // Set up the interval.\n    useEffect(() => {\n      let id = setInterval(() => {\n        savedCallback.current();\n      }, delay);\n      return () => clearInterval(id);\n    }, [delay]);\n    \n  };\n\n\n\n\n \n \n\n \n  useInterval(() => {\n    setRotation(rotation + 0.2);\n    console.log(\"interval\", rotation)\n  }, 200);\n\n \n\n\n  const useAnimationFrame = callback => {\n    // Use useRef for mutable variables that we want to persist\n    // without triggering a re-render on their change\n    const requestRef = useRef();\n    const previousTimeRef =  useRef();\n    \n    const animate = time => {\n      if (previousTimeRef.current != undefined) {\n        const deltaTime = time - previousTimeRef.current;\n        callback(deltaTime)\n      }\n      previousTimeRef.current = time;\n      requestRef.current = requestAnimationFrame(animate);\n    }\n    \n   useEffect(() => {\n      requestRef.current = requestAnimationFrame(animate);\n      return () => cancelAnimationFrame(requestRef.current);\n    }, []); // Make sure the effect runs only once\n  }\n  \n \n    const [count, setCount] = React.useState(0)\n    \n    useAnimationFrame(deltaTime => {\n      // Pass on a function to the setter of the state\n      // to make sure we always have the latest state\n      setCount(prevCount => (prevCount + deltaTime * 0.01) % 100)\n      console.log(count);\n    }\n    \n    \n    )\n      \n \n\n  return (\n    <g\n      className=\"marks\"\n      //  onMouseDown={handleMouseDown}\n      //  onMouseMove={handleMouseMove}\n      // onMouseUp={handleMouseUp}\n    >\n      {projection\n    .rotate([ velocity[0]-rotation * 20, rotate[1] + velocity[1] * dt])}\n      <path className=\"sphere\" d={path({ type: \"Sphere\" })} />\n      <path\n        className=\"graticule\"\n        d={path(graticule())}\n        style={{ display: \"none\" }}\n      />\n\n      {land.features.map((feature, i) => (\n        <path className=\"feature\" d={path(feature)} key={i} />\n      ))}\n\n      {geometry.features.map((feature, i) => (\n        <g>\n          <path\n            className=\"interiors\"\n            d={path(feature)}\n            key={feature.properties.name}\n            id={feature.properties.name}\n          >\n            {/* <div     cx={path.centroid(feature)[0]} cy={path.centroid(feature)[1]}   fontSize=\"36\">{feature.properties.name}</div> */}\n          </path>\n\n          {path.centroid(feature)[0] ?? (\n            <circle\n              className=\"interiors\"\n              key={i}\n              cx={path.centroid(feature)[0]}\n              cy={path.centroid(feature)[1]}\n              r=\"2\"\n              fill=\"red\"\n              fontSize=\"36\"\n            ></circle>\n          )}\n        </g>\n      ))}\n    </g>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}