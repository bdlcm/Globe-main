{"ast":null,"code":"var _jsxFileName = \"/Users/barbaramoahamed/Documents/repos/Globe-main/src/Globe.js\",\n    _s = $RefreshSig$();\n\nimport * as d3 from \"d3\";\nimport { geoOrthographic, geoPath, scaleLinear, geoGraticule } from \"d3\";\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Globe = _ref => {\n  _s();\n\n  let {\n    data: {\n      land,\n      geometry\n    }\n  } = _ref;\n  useEffect(() => {\n    renderD3Globe();\n  }, []);\n\n  const renderD3Globe = () => {\n    const width = 400,\n          height = 400;\n    const projection = geoOrthographic().scale(200).translate([width / 2, height / 2]).clipAngle(90);\n    const path = geoPath(projection);\n    const graticule = geoGraticule();\n    const λ = scaleLinear().domain([0, width]).range([-180, 180]);\n    const φ = scaleLinear().domain([0, height]).range([90, -90]);\n    const svg = d3.select(\"#globe\").append(\"svg\").attr(\"width\", width).attr(\"height\", height); //adds a gradient for styling use\n\n    const defs = svg.append(\"defs\");\n    const gradient = defs.append(\"linearGradient\").attr(\"id\", \"svgGradient\").attr(\"x1\", \"0%\").attr(\"x2\", \"100%\").attr(\"y1\", \"0%\").attr(\"y2\", \"100%\");\n    gradient.append(\"stop\").attr(\"class\", \"start\").attr(\"offset\", \"0%\").attr(\"stop-color\", \"#07f2a0\").attr(\"stop-opacity\", 1);\n    gradient.append(\"stop\").attr(\"class\", \"end\").attr(\"offset\", \"100%\").attr(\"stop-color\", \"#323162\").attr(\"stop-opacity\", 1); //end of gradient\n\n    svg.append(\"circle\").attr(\"class\", \"sphere\").style(\"fill\", \"none\");\n    svg.append(\"path\").datum(land).attr(\"class\", \"land\").attr(\"d\", path).style(\"fill\", \"url(#svgGradient)\");\n    svg.append(\"path\").attr(\"class\", \"graticule\").attr(\"d\", path(graticule()));\n    svg.append(\"path\").datum(geometry).attr(\"class\", \"interiors\").attr(\"d\", path(geometry));\n    svg.append(\"g\").datum(geometry).attr(\"class\", \"interiors\").attr(\"d\", path(geometry)); // const circles = svg.selectAll(\"circle\");\n    // sv.append(\"circle\").enter()\n    // .attr(\"class\", \"bubble\")\n    // .attr(\"r\", 10)\n    // .style(\"fill\", \"white\")\n    // .data(geometry.features)\n    // .attr(\"cx\", function (d){ return path.centroid(d)[0]})\n    // .attr(\"cy\", function (d){ return path.centroid(d)[1]})\n    //   circles.exit().remove();\n    //     const markers = svg.selectAll('circle')\n    //     .data(geometry.features);\n    //       markers.enter()\n    //       .data(geometry.features)\n    // .append(\"circle\")\n    // .merge(markers)\n    //       .style(\"stroke\", \"gray\")\n    //       .style(\"fill\", \"black\")\n    //       .attr(\"r\", 2)\n    //       .attr(\"d\", path(geometry))\n    //       .attr(\"cx\", function (d){ return path.centroid(d)[0]})\n    //       .attr(\"cy\", function (d){ return path.centroid(d)[1]});\n    // .attr(\"transform\", function(d) {\n    //   return \"translate(\" + path(geometry) + \")\"; })\n\n    const scrollSpeed = 50;\n    let current = 0;\n\n    function bgscroll() {\n      current += 2;\n      projection.rotate([-λ(current), -24]);\n      svg.selectAll(\"path\").attr(\"d\", path);\n      drawCircles();\n    }\n\n    function drawCircles() {\n      var circles = svg.selectAll(\"circle\").data(geometry.features);\n      circles.enter().append(\"circle\").merge(circles) // .attr(\"d\", path(geometry))\n      .style(\"stroke\", \"gray\").style(\"fill\", \"black\") // .attr(\"d\", path(geometry));\n      .attr(\"cx\", function (d) {\n        return path.centroid(d)[0];\n      }).attr(\"cy\", function (d) {\n        return path.centroid(d)[1];\n      }).attr(\"r\", function (d) {\n        return 5;\n      });\n      circles.exit().remove();\n    }\n\n    setInterval(bgscroll, scrollSpeed);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"marks\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"globe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Globe, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Globe;\n\nvar _c;\n\n$RefreshReg$(_c, \"Globe\");","map":{"version":3,"names":["d3","geoOrthographic","geoPath","scaleLinear","geoGraticule","React","useState","useEffect","Globe","data","land","geometry","renderD3Globe","width","height","projection","scale","translate","clipAngle","path","graticule","λ","domain","range","φ","svg","select","append","attr","defs","gradient","style","datum","scrollSpeed","current","bgscroll","rotate","selectAll","drawCircles","circles","features","enter","merge","d","centroid","exit","remove","setInterval"],"sources":["/Users/barbaramoahamed/Documents/repos/Globe-main/src/Globe.js"],"sourcesContent":["import * as d3 from \"d3\";\nimport { geoOrthographic, geoPath, scaleLinear, geoGraticule } from \"d3\";\n\nimport React, { useState, useEffect } from \"react\";\n\nexport const Globe = ({ data: { land, geometry } }) => {\n  useEffect(() => {\n    renderD3Globe();\n  }, []);\n\n  const renderD3Globe = () => {\n    const width = 400,\n      height = 400;\n\n    const projection = geoOrthographic()\n      .scale(200)\n      .translate([width / 2, height / 2])\n      .clipAngle(90);\n\n    const path = geoPath(projection);\n\n    const graticule = geoGraticule();\n\n    const λ = scaleLinear().domain([0, width]).range([-180, 180]);\n\n    const φ = scaleLinear().domain([0, height]).range([90, -90]);\n\n    const svg = d3\n      .select(\"#globe\")\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    //adds a gradient for styling use\n    const defs = svg.append(\"defs\");\n\n    const gradient = defs\n      .append(\"linearGradient\")\n      .attr(\"id\", \"svgGradient\")\n      .attr(\"x1\", \"0%\")\n      .attr(\"x2\", \"100%\")\n      .attr(\"y1\", \"0%\")\n      .attr(\"y2\", \"100%\");\n\n    gradient\n      .append(\"stop\")\n      .attr(\"class\", \"start\")\n      .attr(\"offset\", \"0%\")\n      .attr(\"stop-color\", \"#07f2a0\")\n      .attr(\"stop-opacity\", 1);\n\n    gradient\n      .append(\"stop\")\n      .attr(\"class\", \"end\")\n      .attr(\"offset\", \"100%\")\n      .attr(\"stop-color\", \"#323162\")\n      .attr(\"stop-opacity\", 1);\n\n    //end of gradient\n\n    svg.append(\"circle\").attr(\"class\", \"sphere\").style(\"fill\", \"none\");\n\n    svg\n      .append(\"path\")\n      .datum(land)\n      .attr(\"class\", \"land\")\n      .attr(\"d\", path)\n      .style(\"fill\", \"url(#svgGradient)\");\n\n    svg.append(\"path\").attr(\"class\", \"graticule\").attr(\"d\", path(graticule()));\n\n    svg\n      .append(\"path\")\n      .datum(geometry)\n      .attr(\"class\", \"interiors\")\n      .attr(\"d\", path(geometry));\n\n    svg\n      .append(\"g\")\n      .datum(geometry)\n      .attr(\"class\", \"interiors\")\n      .attr(\"d\", path(geometry));\n\n    // const circles = svg.selectAll(\"circle\");\n    // sv.append(\"circle\").enter()\n    // .attr(\"class\", \"bubble\")\n\n    // .attr(\"r\", 10)\n    // .style(\"fill\", \"white\")\n\n    // .data(geometry.features)\n    // .attr(\"cx\", function (d){ return path.centroid(d)[0]})\n\n    // .attr(\"cy\", function (d){ return path.centroid(d)[1]})\n\n    //   circles.exit().remove();\n\n    //     const markers = svg.selectAll('circle')\n    //     .data(geometry.features);\n\n    //       markers.enter()\n    //       .data(geometry.features)\n    // .append(\"circle\")\n    // .merge(markers)\n\n    //       .style(\"stroke\", \"gray\")\n    //       .style(\"fill\", \"black\")\n    //       .attr(\"r\", 2)\n    //       .attr(\"d\", path(geometry))\n    //       .attr(\"cx\", function (d){ return path.centroid(d)[0]})\n    //       .attr(\"cy\", function (d){ return path.centroid(d)[1]});\n\n    // .attr(\"transform\", function(d) {\n    //   return \"translate(\" + path(geometry) + \")\"; })\n\n    const scrollSpeed = 50;\n\n    let current = 0;\n\n    function bgscroll() {\n      current += 2;\n      projection.rotate([-λ(current), -24]);\n      svg.selectAll(\"path\").attr(\"d\", path);\n\n      drawCircles();\n    }\n\n    function drawCircles() {\n      var circles = svg.selectAll(\"circle\").data(geometry.features);\n      circles\n        .enter()\n        .append(\"circle\")\n        .merge(circles)\n        // .attr(\"d\", path(geometry))\n        .style(\"stroke\", \"gray\")\n        .style(\"fill\", \"black\")\n        // .attr(\"d\", path(geometry));\n        .attr(\"cx\", function (d) {\n          return path.centroid(d)[0];\n        })\n        .attr(\"cy\", function (d) {\n          return path.centroid(d)[1];\n        })\n        .attr(\"r\", function (d) {\n          return 5;\n        });\n\n      circles.exit().remove();\n    }\n\n    setInterval(bgscroll, scrollSpeed);\n  };\n\n  return (\n    <div className=\"marks\">\n      <div id=\"globe\"></div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}