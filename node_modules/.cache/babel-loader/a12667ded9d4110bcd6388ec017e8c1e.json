{"ast":null,"code":"var _jsxFileName = \"/Users/barbaramoahamed/Downloads/Globe-main/src/Globe.js\",\n    _s2 = $RefreshSig$();\n\nimport { geoOrthographic, geoPath, geoGraticule, timer } from \"d3\";\nimport React, { useState, useMemo, useEffect, useRef } from \"react\";\nimport { json } from 'd3';\nimport { feature, mesh } from 'topojson-client';\nimport { Counter } from \"./hooks/animation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Globe = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const savedCallback = useRef();\n  const [rotation, setRotation] = useState(0);\n  const [data, setData] = useState(null);\n  const count = Counter();\n  const url = \"https://unpkg.com/world-atlas@2.0.2/countries-50m.json\";\n  const projection = geoOrthographic().rotate([-rotation, 0]);\n  const geoGenerator = geoPath().projection(projection);\n  const pathString = geoGenerator(data);\n\n  function useInterval(callback, delay) {\n    _s();\n\n    useEffect(() => {\n      savedCallback.current = callback;\n    }, [callback]); // Set up the interval.\n\n    useEffect(() => {\n      let id = setInterval(() => {\n        savedCallback.current();\n      }, delay);\n      return () => clearInterval(id);\n    }, [delay]);\n  }\n\n  _s(useInterval, \"3ubReDTFssvu4DHeldAg55cW/CI=\");\n\n  ;\n  useEffect(() => {\n    json(url).then(topojsonData => {\n      let geoJson = feature(topojsonData, topojsonData.objects.land);\n      setData(geoJson);\n    });\n  }, []);\n  useInterval(() => {\n    setRotation(rotation + 1);\n    console.log(\"interval\", rotation);\n  }, 1);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: 800,\n    height: 800,\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: pathString\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Globe, \"aIkGlwnmAId3zDKzR+7HXlfn4hs=\", true);\n\n_c = Globe;\n\nvar _c;\n\n$RefreshReg$(_c, \"Globe\");","map":{"version":3,"names":["geoOrthographic","geoPath","geoGraticule","timer","React","useState","useMemo","useEffect","useRef","json","feature","mesh","Counter","Globe","savedCallback","rotation","setRotation","data","setData","count","url","projection","rotate","geoGenerator","pathString","useInterval","callback","delay","current","id","setInterval","clearInterval","then","topojsonData","geoJson","objects","land","console","log"],"sources":["/Users/barbaramoahamed/Downloads/Globe-main/src/Globe.js"],"sourcesContent":["import { geoOrthographic, geoPath, geoGraticule, timer} from \"d3\";\nimport React, { useState, useMemo, useEffect, useRef } from \"react\";\nimport { json } from 'd3';\nimport { feature, mesh } from 'topojson-client';\n\nimport { Counter } from \"./hooks/animation\";\n\n\nexport const Globe = () => {\n     const savedCallback = useRef();\n    const [rotation, setRotation] = useState(0);\n    const [data, setData] = useState(null);\n    const count = Counter();\n    const url = \"https://unpkg.com/world-atlas@2.0.2/countries-50m.json\";\n  \n\n\n    const projection = geoOrthographic().rotate([-rotation, 0])\n  \n    const geoGenerator = geoPath()\n    .projection(projection)\n  \n    const pathString = geoGenerator(data)\n\n \n    function useInterval(callback, delay) {\n\n    useEffect(() => {\n      savedCallback.current = callback;\n    }, [callback]);\n    \n    // Set up the interval.\n    useEffect(() => {\n      let id = setInterval(() => {\n        savedCallback.current();\n      }, delay);\n      return () => clearInterval(id);\n    }, [delay]);\n    \n  };\n\n\n \n\n\n  useEffect(() => {\n\n \n\n\n     json(url).then(topojsonData => {\n        let geoJson = feature(topojsonData, topojsonData.objects.land) \n  \n \n       setData(geoJson\n      )\n    });\n\n \n  }, []);\n\n\n \n \n\n \n  useInterval(() => {\n    setRotation(rotation + 1);\n    console.log(\"interval\", rotation)\n  }, 1);\n \n\n  return (\n\n    <svg width={800} height={800} >\n    <path d={pathString} />\n  </svg>\n  );\n};\n"],"mappings":";;;AAAA,SAASA,eAAT,EAA0BC,OAA1B,EAAmCC,YAAnC,EAAiDC,KAAjD,QAA6D,IAA7D;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,OAA1B,EAAmCC,SAAnC,EAA8CC,MAA9C,QAA4D,OAA5D;AACA,SAASC,IAAT,QAAqB,IAArB;AACA,SAASC,OAAT,EAAkBC,IAAlB,QAA8B,iBAA9B;AAEA,SAASC,OAAT,QAAwB,mBAAxB;;AAGA,OAAO,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAAA;;EACtB,MAAMC,aAAa,GAAGN,MAAM,EAA5B;EACD,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,CAAD,CAAxC;EACA,MAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAMc,KAAK,GAAGP,OAAO,EAArB;EACA,MAAMQ,GAAG,GAAG,wDAAZ;EAIA,MAAMC,UAAU,GAAGrB,eAAe,GAAGsB,MAAlB,CAAyB,CAAC,CAACP,QAAF,EAAY,CAAZ,CAAzB,CAAnB;EAEA,MAAMQ,YAAY,GAAGtB,OAAO,GAC3BoB,UADoB,CACTA,UADS,CAArB;EAGA,MAAMG,UAAU,GAAGD,YAAY,CAACN,IAAD,CAA/B;;EAGA,SAASQ,WAAT,CAAqBC,QAArB,EAA+BC,KAA/B,EAAsC;IAAA;;IAEtCpB,SAAS,CAAC,MAAM;MACdO,aAAa,CAACc,OAAd,GAAwBF,QAAxB;IACD,CAFQ,EAEN,CAACA,QAAD,CAFM,CAAT,CAFsC,CAMtC;;IACAnB,SAAS,CAAC,MAAM;MACd,IAAIsB,EAAE,GAAGC,WAAW,CAAC,MAAM;QACzBhB,aAAa,CAACc,OAAd;MACD,CAFmB,EAEjBD,KAFiB,CAApB;MAGA,OAAO,MAAMI,aAAa,CAACF,EAAD,CAA1B;IACD,CALQ,EAKN,CAACF,KAAD,CALM,CAAT;EAOD;;EA/BwB,GAiBdF,WAjBc;;EA+BxB;EAMDlB,SAAS,CAAC,MAAM;IAKbE,IAAI,CAACW,GAAD,CAAJ,CAAUY,IAAV,CAAeC,YAAY,IAAI;MAC5B,IAAIC,OAAO,GAAGxB,OAAO,CAACuB,YAAD,EAAeA,YAAY,CAACE,OAAb,CAAqBC,IAApC,CAArB;MAGDlB,OAAO,CAACgB,OAAD,CAAP;IAEF,CANA;EASF,CAdQ,EAcN,EAdM,CAAT;EAqBAT,WAAW,CAAC,MAAM;IAChBT,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;IACAsB,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBvB,QAAxB;EACD,CAHU,EAGR,CAHQ,CAAX;EAMA,oBAEE;IAAK,KAAK,EAAE,GAAZ;IAAiB,MAAM,EAAE,GAAzB;IAAA,uBACA;MAAM,CAAC,EAAES;IAAT;MAAA;MAAA;MAAA;IAAA;EADA;IAAA;IAAA;IAAA;EAAA,QAFF;AAMD,CAtEM;;IAAMX,K;;KAAAA,K"},"metadata":{},"sourceType":"module"}