{"ast":null,"code":"var _jsxFileName = \"/Users/barbaramoahamed/Documents/repos/Globe-main/src/Globe.js\",\n    _s = $RefreshSig$();\n\nimport * as d3 from \"d3\";\nimport { geoOrthographic, geoPath, scaleLinear, geoGraticule } from \"d3\";\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Globe = _ref => {\n  _s();\n\n  let {\n    data: {\n      land,\n      geometry\n    },\n    countryData\n  } = _ref;\n  useEffect(() => {\n    renderD3Globe();\n  }, []);\n\n  const renderD3Globe = () => {\n    const width = 400,\n          height = 400;\n    const projection = geoOrthographic().scale(200).translate([width / 2, height / 2]).clipAngle(90);\n    const path = geoPath(projection);\n    const graticule = geoGraticule();\n    const λ = scaleLinear().domain([0, width]).range([-180, 180]);\n    const φ = scaleLinear().domain([0, height]).range([90, -90]);\n    const scrollSpeed = 50;\n    let current = 0;\n    const svg = d3.select(\"#globe\").append(\"svg\").attr(\"width\", width).attr(\"height\", height); //adds a gradient for styling use\n\n    const defs = svg.append(\"defs\");\n    const gradient = defs.append(\"linearGradient\").attr(\"id\", \"svgGradient\").attr(\"x1\", \"0%\").attr(\"x2\", \"100%\").attr(\"y1\", \"0%\").attr(\"y2\", \"100%\");\n    gradient.append(\"stop\").attr(\"class\", \"start\").attr(\"offset\", \"0%\").attr(\"stop-color\", \"#07f2a0\").attr(\"stop-opacity\", 1);\n    gradient.append(\"stop\").attr(\"class\", \"end\").attr(\"offset\", \"100%\").attr(\"stop-color\", \"#323162\").attr(\"stop-opacity\", 1); //end of gradient\n\n    svg.append(\"circle\").attr(\"class\", \"sphere\").style(\"fill\", \"none\");\n    svg.append(\"path\").datum(land).attr(\"class\", \"land\").attr(\"d\", path).style(\"fill\", \"url(#svgGradient)\");\n    svg.append(\"path\").attr(\"class\", \"graticule\").attr(\"d\", path(graticule()));\n    svg.append(\"path\").datum(geometry).attr(\"class\", \"interiors\").attr(\"d\", path(geometry));\n    svg.append(\"g\").datum(geometry).attr(\"class\", \"interiors\").attr(\"d\", path(geometry));\n\n    function bgscroll() {\n      current += 5;\n      projection.rotate([-λ(current), -24]);\n      svg.selectAll(\"path\").attr(\"d\", path);\n      drawCircles();\n    }\n\n    function drawCircles() {\n      var circles = svg.selectAll(\"circle\").data(geometry.features);\n      circles.enter().append(\"circle\").merge(circles) // .attr(\"d\", path(geometry))\n      .style(\"fill\", \"black\") // .attr(\"d\", path(geometry));\n      .attr(\"cx\", function (d) {\n        if (path.centroid(d)[0]) {\n          return path.centroid(d)[0];\n        }\n\n        ;\n      }).attr(\"cy\", function (d) {\n        if (path.centroid(d)[0]) {\n          return path.centroid(d)[1];\n        }\n\n        ;\n      }).attr(\"r\", function (d) {\n        //   const result = countryData.filter(\n        //     (country) => country[\"United Nations m49 country code\"] === d.id\n        //   );\n        //   if (result.length != 0)\n        // {    if (\n        //       result[0][\"Electric power consumption (kWh per capita)\"] >= 5000\n        //     ) {\n        //       return 10;\n        //     }\n        //   if (\n        //     result[0][\"Electric power consumption (kWh per capita)\"] >= 1000\n        //   ) {\n        //     return 2;\n        //   }\n        //   if (result[0][\"Electric power consumption (kWh per capita)\"] >= 500) {\n        //     return 1;\n        //   } }\n        //   else {\n        //     return 0.5;\n        //   }\n        return 5;\n      });\n      circles.exit().remove();\n    }\n\n    setInterval(bgscroll, scrollSpeed);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"marks\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"globe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Globe, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Globe;\n\nvar _c;\n\n$RefreshReg$(_c, \"Globe\");","map":{"version":3,"names":["d3","geoOrthographic","geoPath","scaleLinear","geoGraticule","React","useState","useEffect","Globe","data","land","geometry","countryData","renderD3Globe","width","height","projection","scale","translate","clipAngle","path","graticule","λ","domain","range","φ","scrollSpeed","current","svg","select","append","attr","defs","gradient","style","datum","bgscroll","rotate","selectAll","drawCircles","circles","features","enter","merge","d","centroid","exit","remove","setInterval"],"sources":["/Users/barbaramoahamed/Documents/repos/Globe-main/src/Globe.js"],"sourcesContent":["import * as d3 from \"d3\";\nimport { geoOrthographic, geoPath, scaleLinear, geoGraticule } from \"d3\";\n\nimport React, { useState, useEffect } from \"react\";\n\nexport const Globe = ({ data: { land, geometry }, countryData }) => {\n  useEffect(() => {\n    renderD3Globe();\n  }, []);\n\n  const renderD3Globe = () => {\n    const width = 400,\n      height = 400;\n\n    const projection = geoOrthographic()\n      .scale(200)\n      .translate([width / 2, height / 2])\n      .clipAngle(90);\n\n    const path = geoPath(projection);\n\n    const graticule = geoGraticule();\n\n    const λ = scaleLinear().domain([0, width]).range([-180, 180]);\n\n    const φ = scaleLinear().domain([0, height]).range([90, -90]);\n\n    const scrollSpeed = 50;\n\n    let current = 0;\n\n    const svg = d3\n      .select(\"#globe\")\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    //adds a gradient for styling use\n    const defs = svg.append(\"defs\");\n\n    const gradient = defs\n      .append(\"linearGradient\")\n      .attr(\"id\", \"svgGradient\")\n      .attr(\"x1\", \"0%\")\n      .attr(\"x2\", \"100%\")\n      .attr(\"y1\", \"0%\")\n      .attr(\"y2\", \"100%\");\n\n    gradient\n      .append(\"stop\")\n      .attr(\"class\", \"start\")\n      .attr(\"offset\", \"0%\")\n      .attr(\"stop-color\", \"#07f2a0\")\n      .attr(\"stop-opacity\", 1);\n\n    gradient\n      .append(\"stop\")\n      .attr(\"class\", \"end\")\n      .attr(\"offset\", \"100%\")\n      .attr(\"stop-color\", \"#323162\")\n      .attr(\"stop-opacity\", 1);\n\n    //end of gradient\n\n    svg.append(\"circle\").attr(\"class\", \"sphere\").style(\"fill\", \"none\");\n\n    svg\n      .append(\"path\")\n      .datum(land)\n      .attr(\"class\", \"land\")\n      .attr(\"d\", path)\n      .style(\"fill\", \"url(#svgGradient)\");\n\n    svg.append(\"path\").attr(\"class\", \"graticule\").attr(\"d\", path(graticule()));\n\n    svg\n      .append(\"path\")\n      .datum(geometry)\n      .attr(\"class\", \"interiors\")\n      .attr(\"d\", path(geometry));\n\n    svg\n      .append(\"g\")\n      .datum(geometry)\n      .attr(\"class\", \"interiors\")\n      .attr(\"d\", path(geometry));\n\n    function bgscroll() {\n      current += 5;\n      projection.rotate([-λ(current), -24]);\n      svg.selectAll(\"path\").attr(\"d\", path);\n\n      drawCircles();\n    }\n\n    function drawCircles() {\n      var circles = svg.selectAll(\"circle\").data(geometry.features);\n      circles\n        .enter()\n        .append(\"circle\")\n        .merge(circles)\n        // .attr(\"d\", path(geometry))\n\n        .style(\"fill\", \"black\")\n        // .attr(\"d\", path(geometry));\n        .attr(\"cx\", function (d) {\n\n          if (path.centroid(d)[0])\n         { return path.centroid(d)[0]};\n        })\n        .attr(\"cy\", function (d) {\n          if (path.centroid(d)[0])\n          {return path.centroid(d)[1]};\n        })\n        .attr(\"r\", function (d) {\n        //   const result = countryData.filter(\n        //     (country) => country[\"United Nations m49 country code\"] === d.id\n        //   );\n        \n        //   if (result.length != 0)\n        // {    if (\n        //       result[0][\"Electric power consumption (kWh per capita)\"] >= 5000\n        //     ) {\n        //       return 10;\n        //     }\n        //   if (\n        //     result[0][\"Electric power consumption (kWh per capita)\"] >= 1000\n        //   ) {\n        //     return 2;\n        //   }\n        //   if (result[0][\"Electric power consumption (kWh per capita)\"] >= 500) {\n        //     return 1;\n        //   } }\n          \n        //   else {\n        //     return 0.5;\n        //   }\n        return 5\n         });\n\n      circles.exit().remove();\n    }\n\n    setInterval(bgscroll, scrollSpeed);\n  };\n\n  return (\n    <div className=\"marks\">\n      <div id=\"globe\"></div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}