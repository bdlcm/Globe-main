{"ast":null,"code":"var _jsxFileName = \"/Users/barbaramoahamed/Downloads/Globe-main/src/Marks.js\",\n    _s = $RefreshSig$();\n\nimport { geoOrthographic, geoPath, geoGraticule, append } from 'd3';\nimport React, { useState, useCallback, useEffect, useRef } from 'react';\nimport $, { data } from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Marks = _ref => {\n  _s();\n\n  let {\n    data: {\n      land,\n      geometry\n    }\n  } = _ref;\n  const width = 500;\n  const height = 500;\n  const intialMousePosition = {\n    x: width / 2,\n    y: height / 2\n  };\n  const projection = geoOrthographic().scale(200);\n  const path = geoPath(projection);\n  const graticule = geoGraticule();\n  const rotate = [0, -23.5];\n  const velocity = [.015, -0];\n  const time = Date.now(); // const [now, setNow] = useState(Date.now())\n\n  const [dt, setDT] = useState(Date.now());\n  const [rotation, setRotation] = useState(0);\n  const [MousePosition, SetMousePosition] = useState(intialMousePosition);\n  const [mouseDown, SetMousedDown] = useState(false);\n  const handleMouseDown = useCallback(event => {\n    SetMousedDown(true);\n  }, []);\n  const handleMouseUp = useCallback(event => {\n    $('.marks').css('cursor', '');\n    SetMousedDown(false);\n  }, []);\n  const handleClick = useCallback(event => {\n    console.log(event);\n  }, []);\n  const handleMouseMove = useCallback(event => {\n    const {\n      clientX,\n      clientY\n    } = event;\n\n    if (mouseDown) {\n      SetMousePosition({\n        x: clientX,\n        y: clientY\n      });\n      $('.marks').css('cursor', 'pointer');\n      $('.star').css('backgroundPositionX', clientX);\n      $('.star').css('backgroundPositionY', clientY);\n    }\n  }, [SetMousePosition, mouseDown]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setRotation(rotation + 0.2);\n      console.log(rotation);\n    }, 1);\n    return () => clearInterval(interval); // This represents the unmount function, in which you need to clear your interval to prevent memory leaks.\n  }, [rotation]);\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"marks\",\n    onMouseDown: handleMouseDown,\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    children: [projection.rotate([rotation, 0, rotate[1] + velocity[1] * dt]), /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"sphere\",\n      d: path({\n        type: 'Sphere'\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"graticule\",\n      d: path(graticule()),\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), land.features.map((feature, i) => /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"feature\",\n      d: path(feature)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 8\n    }, this)), geometry.features.map((feature, i) => /*#__PURE__*/_jsxDEV(\"g\", {\n      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n        className: \"interiors\",\n        d: path(feature),\n        id: feature.properties.name\n      }, feature.properties.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        className: \"interiors\",\n        cx: path.centroid(feature)[0],\n        cy: path.centroid(feature)[1],\n        r: \"2\",\n        fill: \"red\",\n        fontSize: \"36\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Marks, \"rAbH1FRzVEDTCUhj3sthS0cI3bE=\");\n\n_c = Marks;\n\nvar _c;\n\n$RefreshReg$(_c, \"Marks\");","map":{"version":3,"names":["geoOrthographic","geoPath","geoGraticule","append","React","useState","useCallback","useEffect","useRef","$","data","Marks","land","geometry","width","height","intialMousePosition","x","y","projection","scale","path","graticule","rotate","velocity","time","Date","now","dt","setDT","rotation","setRotation","MousePosition","SetMousePosition","mouseDown","SetMousedDown","handleMouseDown","event","handleMouseUp","css","handleClick","console","log","handleMouseMove","clientX","clientY","interval","setInterval","clearInterval","type","display","features","map","feature","i","properties","name","centroid"],"sources":["/Users/barbaramoahamed/Downloads/Globe-main/src/Marks.js"],"sourcesContent":["import { geoOrthographic, geoPath, geoGraticule, append } from 'd3';\nimport React, {useState, useCallback, useEffect, useRef} from 'react';\nimport $, { data } from 'jquery';\n\n\n\n\n\nexport const Marks = ({data: {land, geometry}}) => {\n  const width = 500;\nconst height = 500;\nconst intialMousePosition = {x: width/2, y: height/2};\n\nconst projection = geoOrthographic().scale(200);\nconst path = geoPath(projection);\nconst graticule = geoGraticule();\nconst rotate = [0, -23.5];\nconst velocity = [.015, -0];\n\nconst time = Date.now();\n\n\n\n \n  // const [now, setNow] = useState(Date.now())\n  const [dt, setDT] = useState(Date.now())\n  const [rotation, setRotation] = useState(0);\n\n  const [MousePosition, SetMousePosition] = useState(intialMousePosition)\n  const [mouseDown, SetMousedDown] = useState(false)\n\n  const handleMouseDown = useCallback((event) => {\n\n  SetMousedDown(true);\n  \n},[])\n\n\nconst handleMouseUp = useCallback((event) => {\n\n  $('.marks').css('cursor', '')\n  SetMousedDown(false);\n  \n},[])\n\nconst handleClick = useCallback((event) => {\n \n\nconsole.log(event);  \n},[])\n\n\nconst handleMouseMove = useCallback((event) => {\n  \n  const {clientX, clientY}= event;\n  if(mouseDown){\n    SetMousePosition({x:clientX, y:clientY});\n    $('.marks').css('cursor', 'pointer')\n    $('.star').css('backgroundPositionX', clientX);\n    $('.star').css('backgroundPositionY', clientY);\n  }\n  \n},[SetMousePosition, mouseDown])\n\n\nuseEffect(() => {\n  const interval = setInterval(() => {\n    setRotation(\n       rotation + 0.2\n    )\n\n    console.log(rotation);\n   \n  }, 1);\n\n  return () => clearInterval(interval); // This represents the unmount function, in which you need to clear your interval to prevent memory leaks.\n}, [rotation])\n \n \n  \n  return(\n  <g  className=\"marks\" onMouseDown = {handleMouseDown} onMouseMove = {handleMouseMove} onMouseUp= {handleMouseUp}>\n      {projection.rotate([rotation, 0 , rotate[1] + velocity[1] * dt])}\n     <path className = \"sphere\" d={ path({type: 'Sphere'})}/>\n      <path className = \"graticule\" d={ path(graticule())} style = {{display: 'none'}}/> \n     \n    {\n      land.features.map((feature, i) => (\n       <path className = \"feature\" d={ path(feature)} key={i}/>\n      )) \n    }\n\n{\n      geometry.features.map((feature, i) => (\n        <g>\n\n       <path className = \"interiors\" d={ path(feature)} key={feature.properties.name} id={feature.properties.name}>\n       {/* <div     cx={path.centroid(feature)[0]} cy={path.centroid(feature)[1]}   fontSize=\"36\">{feature.properties.name}</div> */}\n\n       </path>\n \n       <circle  className = \"interiors\"   cx={path.centroid(feature)[0]} cy={path.centroid(feature)[1]}  r=\"2\"  fill=\"red\" fontSize=\"36\"></circle>\n      \n\n \n       </g>\n\n\n\n        )) \n    }\n\n \n\n \n \n \n\n\n       \n  \n  \n  </g>);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}